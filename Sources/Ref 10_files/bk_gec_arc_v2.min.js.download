!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BluekaiGEC=t():e.BluekaiGEC=t()}("undefined"!=typeof self?self:this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=3)}({3:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=window,a=window.document,c={},u={waitEcoId:!0},l="//tags.bkrtx.com/js/bk-coretag.js",d=Object.prototype.hasOwnProperty,s=null,f=null,p=null,y=null,g="",m=document.querySelectorAll(".story-tags__link"),b=null,v=null,_=null;i.bk_async=function(){for(var e,t=[].concat(u.metas),n=t.length,o=0;o<n;o++)(e=t[o])&&d.call(e,"key")&&d.call(e,"name")&&k(e.key,E(e.name));for(var i,a=[].concat(u.attributes),c=0,l=a.length;c<l;c++)(i=a[c])&&d.call(i,"key")&&d.call(i,"value")&&k(i.key,"function"==typeof i.value?i.value():i.value);y=u.siteId,s&&k("a_id",s),p&&(y=u.swapId,k("idmember",p)),f&&k("e_id_s",f),_=h(),_&&k("articleTags",_),"object"===("undefined"==typeof BKTAG?"undefined":r(BKTAG))?BKTAG.doTag(y,1):console.log("@BKTAG is not defined"),C(u.containers)};var h=function(){return m?(m.forEach(function(e){b=e.text.toLowerCase().normalize("NFKD").replace(/[\u0300-\u036F]/g,"").replace(/ /g,""),g=g+b+","}),g=g.slice(0,-1),v=g.length,g=g.slice(0,v)):g="",g.split(",")},k=function(e,t){void 0!==t&&null!==t&&bk_addPageCtx(e,t)},w=function(e){return(e=document.cookie.match("(^|;) ?"+e+"=([^;]*)(;|$)"))?e[2]:null},j=function(){!function e(){var t=window.localStorage.getItem("ArcId.USER_INFO"),n=t?JSON.parse(t):{};if(n.uuid)return n.uuid&&(p=n.uuid),w("gecdigarc")&&(s=w("gecdigarc")),w("arc_e_id")&&(f=w("arc_e_id")),void B({url:l,async:!0,head:!0});if(w("mpp_sess"))return w("mpp_id")&&(p=w("mpp_id")),w("gecdigmpp")&&(s=w("gecdigmpp")),w("mpp_sess_id")&&(f=w("mpp_sess_id")),void B({url:l,async:!0,head:!0});if(w("gecdigarc"))return n.uuid&&(p=n.uuid),w("gecdigarc")&&(s=w("gecdigarc")),w("arc_e_id")&&(f=w("arc_e_id")),void B({url:l,async:!0,head:!0});var o="";if(w("gecdigarc")&&(o=w("gecdigarc")),""===o)return void B({url:l,async:!0,head:!0});setTimeout(e,25)}()},x=function e(){if(window.Identity)return j();setTimeout(e,500)},B=function(e){var t=e.url,n=void 0===t?"":t,o=e.async,r=void 0===o||o,i=e.head,c=void 0!==i&&i,u=e.callback,l=a.createElement("script");if("function"==typeof u&&(l.onload=function(){return u()}),r&&(l.async=!0),l.src=n,c){var d=a.getElementsByTagName("script")[0];d?d.parentNode.insertBefore(l,d):(a.head||a.getElementsByTagName("head")[0]).appendChild(l)}else a.body.appendChild(l);return l},E=function(e){return c[e]||""},O=function(){for(var e=[].slice.call(a.getElementsByTagName("meta")),t=0,n=e.length;t<n;t++)c[e[t].getAttribute("name")||e[t].getAttribute("property")]=e[t].getAttribute("content")},T=function(e){var t=e.id,n=void 0===t?null:t,o=e.name,r=void 0===o?null:o,i=e.callback;if(n&&r){B({url:"https://tags.bluekai.com/site/"+n+"?ret=js&limit=1",callback:i}).id="bk-container-"+r.toLowerCase()}},C=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(T)},A=function(e){return o(u,e),O(),u.waitEcoId?x():B({url:l,async:!0,head:!0}),{getMetaByName:E,addContainers:C,addContainer:T}};window.BluekaiGEC=A,A.init=A,"function"==typeof i.bk_gec_async&&bk_gec_async(A),t.default=A}}).default});
//# sourceMappingURL=bk_gec_arc_v2.min.js.map